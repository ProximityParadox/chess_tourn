  <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="./scheduler.css">

</head>
<body>

    <main id="tournament">
      <ul class="round round-1">
        <li class="spacer">&nbsp;</li>
        
        <li class="game game-top"><input id = "name1"></input> <button id = "b1">win</button></li>
        <li class="game game-spacer">&nbsp;</li>
        <li class="game game-bottom "><input id = "name2"></input> <button id = "b2">win</button></li>
    
        <li class="spacer">&nbsp;</li>
        
        <li class="game game-top"><input id = "name3"></input> <button id = "b3">win</button></li>
        <li class="game game-spacer">&nbsp;</li>
        <li class="game game-bottom "><input id = "name4"></input> <button id = "b4">win</button></li>
    
        <li class="spacer">&nbsp;</li>
        
        <li class="game game-top "><input id = "name5"></input> <button id = "b5">win</button></li>
        <li class="game game-spacer">&nbsp;</li>
        <li class="game game-bottom"><input id = "name6"></input> <button id = "b6">win</button></li>
    
        <li class="spacer">&nbsp;</li>
        
        <li class="game game-top"><input id = "name7"></input> <button id = "b7">win</button></li>
        <li class="game game-spacer">&nbsp;</li>
        <li class="game game-bottom "><input id = "name8"></input> <button id = "b8">win</button></li>
    
        <li class="spacer">&nbsp;</li>
        
        <li class="game game-top"><input id = "name9"></input> <button id = "b9">win</button></li>
        <li class="game game-spacer">&nbsp;</li>
        <li class="game game-bottom "><input id = "name10"></input> <button id = "b10">win</button></li>
    
        <li class="spacer">&nbsp;</li>
        
        <li class="game game-top"><input id = "name11"></input> <button id = "b11">win</button></li>
        <li class="game game-spacer">&nbsp;</li>
        <li class="game game-bottom "><input id = "name12"></input> <button id = "b12">win</button></li>
    
        <li class="spacer">&nbsp;</li>
        
        <li class="game game-top"><input id = "name13"></input> <button id = "b13">win</button></li>
        <li class="game game-spacer">&nbsp;</li>
        <li class="game game-bottom "><input id = "name14"></input> <button id = "b14">win</button></li>
    
        <li class="spacer">&nbsp;</li>
        
        <li class="game game-top"><input id = "name15"></input> <button id = "b15">win</button></li>
        <li class="game game-spacer">&nbsp;</li>
        <li class="game game-bottom "><input id = "name16"></input> <button id = "b16">win</button></li>
    
        <li class="spacer">&nbsp;</li>
      </ul>
      <ul class="round round-2">
        <li class="spacer">&nbsp;</li>
        
        <li class="game game-top"><button id = "b1-1">win</button> <div id = w1></div></li>
        <li class="game game-spacer">&nbsp;</li>
        <li class="game game-bottom"><button id = "b1-2">win</button> <div id = w2></div></li>
    
        <li class="spacer">&nbsp;</li>
        
        <li class="game game-top"><button id = "b1-3">win</button> <div id = w3></div></li>
        <li class="game game-spacer">&nbsp;</li>
        <li class="game game-bottom"><button id = "b1-4">win</button> <div id = w4></div></li>
    
        <li class="spacer">&nbsp;</li>
        
        <li class="game game-top"><button id = "b1-5">win</button> <div id = w5></div></li>
        <li class="game game-spacer">&nbsp;</li>
        <li class="game game-bottom"><button id = "b1-6">win</button> <div id = w6></div></li>
    
        <li class="spacer">&nbsp;</li>
        
        <li class="game game-top"><button id = "b1-7">win</button><div id = w7></div></li>
        <li class="game game-spacer">&nbsp;</li>
        <li class="game game-bottom"><button id = "b1-8">win</button><div id = w8></div></li>
    
        <li class="spacer">&nbsp;</li>
      </ul>
      <ul class="round round-3">
        <li class="spacer">&nbsp;</li>
        
        <li class="game game-top"><button id = "b2-1">win</button> <div id = w1-1></div></li>
        <li class="game game-spacer">&nbsp;</li>
        <li class="game game-top"><button id = "b2-2">win</button> <div id = w1-2></div></li>
    
        <li class="spacer">&nbsp;</li>
        
        <li class="game game-top"><button id = "b2-3">win</button> <div id = w1-3></div></li>
        <li class="game game-spacer">&nbsp;</li>
        <li class="game game-top"><button id = "b2-4">win</button> <div id = w1-4></div></li>
    
        <li class="spacer">&nbsp;</li>
      </ul>
      <ul class="round round-4">
        <li class="spacer">&nbsp;</li>
        
        <li class="game game-top"><button id = "b3-1">win</button> <div id = w2-1></div></li>
        <li class="game game-spacer">&nbsp;</li>
        <li class="game game-bottom "><button id = "b3-2">win</button> <div id = w2-2></div></li>
        
        <li class="spacer">&nbsp;</li>

        <p1 id = winner></p1>

      </ul>   
    </main>

<script>

function moveup(winner, nextbracket){
if (document.getElementById(winner).value == undefined){
  document.getElementById(nextbracket).innerHTML = document.getElementById(winner).innerHTML

}
else{
document.getElementById(nextbracket).innerHTML = document.getElementById(winner).value
}
console.log(document.getElementById(winner).innerHTML)
}

document.getElementById("b1").addEventListener("click", (e) =>{e.preventDefault()
  document.getElementById("w1").innerHTML = document.getElementById("name1").value

console.log("yep")
})

document.getElementById("b2").addEventListener("click", (e) =>{e.preventDefault()
moveup("name2", "w1")
})

document.getElementById("b3").addEventListener("click", (e) =>{e.preventDefault()
moveup("name3", "w2")
})

document.getElementById("b4").addEventListener("click", (e) =>{e.preventDefault()
moveup("name4", "w2")
})

document.getElementById("b5").addEventListener("click", (e) =>{e.preventDefault()
moveup("name5", "w3")
})

document.getElementById("b6").addEventListener("click", (e) =>{e.preventDefault()
moveup("name6", "w3")
})

document.getElementById("b7").addEventListener("click", (e) =>{e.preventDefault()
moveup("name7", "w4")
})

document.getElementById("b8").addEventListener("click", (e) =>{e.preventDefault()
moveup("name8", "w4")
})

document.getElementById("b9").addEventListener("click", (e) =>{e.preventDefault()
moveup("name9", "w5")
})

document.getElementById("b10").addEventListener("click", (e) =>{e.preventDefault()
moveup("name10", "w5")
})

document.getElementById("b11").addEventListener("click", (e) =>{e.preventDefault()
moveup("name11", "w6")
})

document.getElementById("b12").addEventListener("click", (e) =>{e.preventDefault()
moveup("name12", "w6")
})

document.getElementById("b13").addEventListener("click", (e) =>{e.preventDefault()
moveup("name13", "w7")
})

document.getElementById("b14").addEventListener("click", (e) =>{e.preventDefault()
moveup("name14", "w7")
})

document.getElementById("b15").addEventListener("click", (e) =>{e.preventDefault()
moveup("name15", "w8")
})

document.getElementById("b16").addEventListener("click", (e) =>{e.preventDefault()
moveup("name16", "w8")
})

document.getElementById("b1-1").addEventListener("click", (e) =>{e.preventDefault()
moveup("w1", "w1-1")
})

document.getElementById("b1-2").addEventListener("click", (e) =>{e.preventDefault()
moveup("w2", "w1-1")
})

document.getElementById("b1-3").addEventListener("click", (e) =>{e.preventDefault()
moveup("w3", "w1-2")
})

document.getElementById("b1-4").addEventListener("click", (e) =>{e.preventDefault()
moveup("w4", "w1-2")
})

document.getElementById("b1-5").addEventListener("click", (e) =>{e.preventDefault()
moveup("w5", "w1-3")
})

document.getElementById("b1-6").addEventListener("click", (e) =>{e.preventDefault()
  moveup("w6", "w1-3")
})

document.getElementById("b1-7").addEventListener("click", (e) =>{e.preventDefault()
moveup("w7", "w1-4")
})

document.getElementById("b1-8").addEventListener("click", (e) =>{e.preventDefault()
  moveup("w8", "w1-4")
})

document.getElementById("b2-1").addEventListener("click", (e) =>{e.preventDefault()
moveup("w1-1", "w2-1")
})

document.getElementById("b2-2").addEventListener("click", (e) =>{e.preventDefault()
moveup("w1-2", "w2-1")
})

document.getElementById("b2-3").addEventListener("click", (e) =>{e.preventDefault()
moveup("w1-3", "w2-2")
})

document.getElementById("b2-4").addEventListener("click", (e) =>{e.preventDefault()
moveup("w1-4", "w2-2")
})

document.getElementById("b3-1").addEventListener("click", (e) =>{e.preventDefault()
moveup("w2-1", "winner")
SendWinnerStats(document.getElementById("winner").value)
})

document.getElementById("b3-2").addEventListener("click", (e) =>{e.preventDefault()
moveup("w2-2", "winner")
SendWinnerStats(document.getElementById("winner").value)
})

function SendWinnerStats(){
let Handle_Register_Form_Data = async() => {

  
  let winner = document.getElementById("winner").innerHTML
  let time = Date.now()

  let data = {winner, time}

        let sent = await fetch('/TournInfo', {
            method: "post",
            headers:{
                "Content-Type": "application/json"
            },
            body: JSON.stringify(data)
        })
        try {
        }
        catch(error){
            console.log(error)
        }
    }

    Handle_Register_Form_Data()

  }

</script>
</body>
</html>